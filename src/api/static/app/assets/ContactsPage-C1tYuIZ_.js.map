{"version":3,"file":"ContactsPage-C1tYuIZ_.js","sources":["../../../../ui/pages/ContactsPage.tsx"],"sourcesContent":["/**\n * Contacts list page.\n *\n * Displays a searchable list of contacts with a slide-out detail panel,\n * create/edit form, and delete confirmation. Uses the typed API client\n * for all contact CRUD operations.\n */\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { apiClient } from '@/ui/lib/api-client';\nimport type { Contact, ContactsResponse, ContactBody } from '@/ui/lib/api-types';\nimport { getInitials } from '@/ui/lib/work-item-utils';\nimport {\n  Skeleton,\n  SkeletonList,\n  ErrorState,\n  EmptyState,\n} from '@/ui/components/feedback';\nimport { Button } from '@/ui/components/ui/button';\nimport { Badge } from '@/ui/components/ui/badge';\nimport { Card, CardContent } from '@/ui/components/ui/card';\nimport { ScrollArea } from '@/ui/components/ui/scroll-area';\n\n/** Get primary email from contact endpoints. */\nfunction getPrimaryEmail(contact: Contact): string | null {\n  const emailEndpoint = contact.endpoints.find((e) => e.type === 'email');\n  return emailEndpoint?.value || null;\n}\n\nexport function ContactsPage(): React.JSX.Element {\n  const [state, setState] = useState<\n    | { kind: 'loading' }\n    | { kind: 'error'; message: string }\n    | { kind: 'loaded'; contacts: Contact[]; total: number }\n  >({ kind: 'loading' });\n\n  const [search, setSearch] = useState('');\n  const [selectedContact, setSelectedContact] = useState<Contact | null>(null);\n  const [detailOpen, setDetailOpen] = useState(false);\n  const [formOpen, setFormOpen] = useState(false);\n  const [editingContact, setEditingContact] = useState<Contact | null>(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const fetchContacts = useCallback(async (searchQuery?: string) => {\n    try {\n      const url = searchQuery\n        ? `/api/contacts?search=${encodeURIComponent(searchQuery)}`\n        : '/api/contacts';\n      const data = await apiClient.get<ContactsResponse>(url);\n      setState({ kind: 'loaded', contacts: data.contacts, total: data.total });\n    } catch (err) {\n      const message = err instanceof Error ? err.message : 'Unknown error';\n      setState({ kind: 'error', message });\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchContacts();\n  }, [fetchContacts]);\n\n  // Debounced search\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      fetchContacts(search || undefined);\n    }, 300);\n    return () => clearTimeout(timer);\n  }, [search, fetchContacts]);\n\n  const handleContactClick = (contact: Contact) => {\n    setSelectedContact(contact);\n    setDetailOpen(true);\n  };\n\n  const handleCreateContact = async (data: ContactBody) => {\n    setIsSubmitting(true);\n    try {\n      await apiClient.post('/api/contacts', data);\n      setFormOpen(false);\n      fetchContacts(search || undefined);\n    } catch (err) {\n      console.error('Failed to create contact:', err);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleUpdateContact = async (data: ContactBody) => {\n    if (!editingContact) return;\n    setIsSubmitting(true);\n    try {\n      await apiClient.patch(`/api/contacts/${editingContact.id}`, data);\n      setFormOpen(false);\n      setEditingContact(null);\n      setDetailOpen(false);\n      fetchContacts(search || undefined);\n    } catch (err) {\n      console.error('Failed to update contact:', err);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleDeleteContact = async (contact: Contact) => {\n    if (!confirm(`Delete contact \"${contact.display_name}\"?`)) return;\n    try {\n      await apiClient.delete(`/api/contacts/${contact.id}`);\n      setDetailOpen(false);\n      setSelectedContact(null);\n      fetchContacts(search || undefined);\n    } catch (err) {\n      console.error('Failed to delete contact:', err);\n    }\n  };\n\n  const handleEdit = (contact: Contact) => {\n    setEditingContact(contact);\n    setDetailOpen(false);\n    setFormOpen(true);\n  };\n\n  const handleAddNew = () => {\n    setEditingContact(null);\n    setFormOpen(true);\n  };\n\n  if (state.kind === 'loading') {\n    return (\n      <div data-testid=\"page-contacts\" className=\"p-6\">\n        <div className=\"mb-6 flex items-center justify-between\">\n          <Skeleton width={200} height={32} />\n          <Skeleton width={120} height={36} />\n        </div>\n        <Skeleton width=\"100%\" height={40} className=\"mb-4\" />\n        <SkeletonList count={5} variant=\"card\" />\n      </div>\n    );\n  }\n\n  if (state.kind === 'error') {\n    return (\n      <div data-testid=\"page-contacts\" className=\"p-6\">\n        <ErrorState\n          type=\"generic\"\n          title=\"Failed to load contacts\"\n          description={state.message}\n          onRetry={() => {\n            setState({ kind: 'loading' });\n            fetchContacts();\n          }}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div data-testid=\"page-contacts\" className=\"p-6 h-full flex flex-col\">\n      {/* Header */}\n      <div className=\"mb-6 flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-semibold text-foreground\">People</h1>\n          <p className=\"text-sm text-muted-foreground mt-1\">\n            {state.total} contact{state.total !== 1 ? 's' : ''}\n          </p>\n        </div>\n        <Button onClick={handleAddNew}>Add Contact</Button>\n      </div>\n\n      {/* Search */}\n      <div className=\"mb-4\">\n        <input\n          type=\"text\"\n          placeholder=\"Search contacts...\"\n          value={search}\n          onChange={(e) => setSearch(e.target.value)}\n          className=\"w-full max-w-md px-4 py-2 border rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary\"\n        />\n      </div>\n\n      {/* Contacts List */}\n      {state.contacts.length === 0 ? (\n        <Card>\n          <CardContent className=\"p-8\">\n            <EmptyState\n              variant=\"no-data\"\n              title={search ? 'No contacts found' : 'No contacts yet'}\n              description={\n                search\n                  ? 'Try a different search term.'\n                  : 'Add your first contact to get started.'\n              }\n              action={\n                !search\n                  ? { label: 'Add Contact', onClick: handleAddNew }\n                  : undefined\n              }\n            />\n          </CardContent>\n        </Card>\n      ) : (\n        <Card className=\"flex-1\">\n          <CardContent className=\"p-0\">\n            <ScrollArea className=\"h-[calc(100vh-280px)]\">\n              <div className=\"divide-y\">\n                {state.contacts.map((contact) => {\n                  const email = getPrimaryEmail(contact);\n                  return (\n                    <button\n                      key={contact.id}\n                      onClick={() => handleContactClick(contact)}\n                      className=\"w-full p-4 text-left hover:bg-muted/50 transition-colors flex items-center gap-3\"\n                    >\n                      <div className=\"flex size-10 shrink-0 items-center justify-center rounded-full bg-primary/10 text-sm font-medium text-primary\">\n                        {getInitials(contact.display_name)}\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"font-medium text-foreground truncate\">\n                          {contact.display_name}\n                        </p>\n                        {email && (\n                          <p className=\"text-sm text-muted-foreground truncate\">{email}</p>\n                        )}\n                      </div>\n                      <Badge variant=\"secondary\" className=\"shrink-0\">\n                        {contact.endpoints.length} endpoint\n                        {contact.endpoints.length !== 1 ? 's' : ''}\n                      </Badge>\n                    </button>\n                  );\n                })}\n              </div>\n            </ScrollArea>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Contact Detail Sheet */}\n      {selectedContact && (\n        <div\n          className={`fixed inset-0 z-50 ${detailOpen ? '' : 'pointer-events-none'}`}\n        >\n          <div\n            className={`absolute inset-0 bg-black/50 transition-opacity ${\n              detailOpen ? 'opacity-100' : 'opacity-0'\n            }`}\n            onClick={() => setDetailOpen(false)}\n          />\n          <div\n            className={`absolute right-0 top-0 h-full w-96 max-w-full bg-background shadow-lg transform transition-transform ${\n              detailOpen ? 'translate-x-0' : 'translate-x-full'\n            }`}\n          >\n            <div className=\"p-6 h-full overflow-auto\">\n              <div className=\"flex items-start gap-4 mb-6\">\n                <div className=\"flex size-16 items-center justify-center rounded-full bg-primary/10 text-xl font-medium text-primary\">\n                  {getInitials(selectedContact.display_name)}\n                </div>\n                <div className=\"flex-1\">\n                  <h2 className=\"text-lg font-semibold\">\n                    {selectedContact.display_name}\n                  </h2>\n                  {getPrimaryEmail(selectedContact) && (\n                    <p className=\"text-sm text-muted-foreground\">\n                      {getPrimaryEmail(selectedContact)}\n                    </p>\n                  )}\n                </div>\n              </div>\n\n              <div className=\"flex gap-2 mb-6\">\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => handleEdit(selectedContact)}\n                >\n                  Edit\n                </Button>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  className=\"text-destructive hover:text-destructive\"\n                  onClick={() => handleDeleteContact(selectedContact)}\n                >\n                  Delete\n                </Button>\n              </div>\n\n              {selectedContact.notes && (\n                <div className=\"mb-6\">\n                  <h3 className=\"text-sm font-medium mb-2\">Notes</h3>\n                  <p className=\"text-sm text-muted-foreground bg-muted/50 p-3 rounded-md\">\n                    {selectedContact.notes}\n                  </p>\n                </div>\n              )}\n\n              <div>\n                <h3 className=\"text-sm font-medium mb-2\">Endpoints</h3>\n                {selectedContact.endpoints.length > 0 ? (\n                  <div className=\"space-y-2\">\n                    {selectedContact.endpoints.map((ep, idx) => (\n                      <div key={idx} className=\"flex items-center gap-2 text-sm\">\n                        <Badge variant=\"outline\" className=\"text-xs\">\n                          {ep.type}\n                        </Badge>\n                        <span className=\"text-muted-foreground\">{ep.value}</span>\n                      </div>\n                    ))}\n                  </div>\n                ) : (\n                  <p className=\"text-sm text-muted-foreground\">No endpoints</p>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Contact Form Modal */}\n      {formOpen && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n          <div\n            className=\"absolute inset-0 bg-black/50\"\n            onClick={() => setFormOpen(false)}\n          />\n          <div className=\"relative bg-background rounded-lg shadow-lg p-6 w-full max-w-md mx-4\">\n            <h2 className=\"text-lg font-semibold mb-4\">\n              {editingContact ? 'Edit Contact' : 'Add Contact'}\n            </h2>\n            <form\n              onSubmit={(e) => {\n                e.preventDefault();\n                const formData = new FormData(e.currentTarget);\n                const body: ContactBody = {\n                  displayName: formData.get('displayName') as string,\n                  notes: (formData.get('notes') as string) || undefined,\n                };\n                if (editingContact) {\n                  handleUpdateContact(body);\n                } else {\n                  handleCreateContact(body);\n                }\n              }}\n            >\n              <div className=\"space-y-4\">\n                <div>\n                  <label htmlFor=\"displayName\" className=\"block text-sm font-medium mb-1\">\n                    Name <span className=\"text-destructive\">*</span>\n                  </label>\n                  <input\n                    id=\"displayName\"\n                    name=\"displayName\"\n                    type=\"text\"\n                    required\n                    defaultValue={editingContact?.display_name || ''}\n                    className=\"w-full px-3 py-2 border rounded-md bg-background focus:outline-none focus:ring-2 focus:ring-primary\"\n                    placeholder=\"John Doe\"\n                  />\n                </div>\n                <div>\n                  <label htmlFor=\"notes\" className=\"block text-sm font-medium mb-1\">\n                    Notes\n                  </label>\n                  <textarea\n                    id=\"notes\"\n                    name=\"notes\"\n                    rows={3}\n                    defaultValue={editingContact?.notes || ''}\n                    className=\"w-full px-3 py-2 border rounded-md bg-background focus:outline-none focus:ring-2 focus:ring-primary\"\n                    placeholder=\"Additional notes...\"\n                  />\n                </div>\n              </div>\n              <div className=\"flex justify-end gap-2 mt-6\">\n                <Button type=\"button\" variant=\"outline\" onClick={() => setFormOpen(false)}>\n                  Cancel\n                </Button>\n                <Button type=\"submit\" disabled={isSubmitting}>\n                  {editingContact ? 'Save Changes' : 'Add Contact'}\n                </Button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["getPrimaryEmail","contact","e","ContactsPage","state","setState","useState","search","setSearch","selectedContact","setSelectedContact","detailOpen","setDetailOpen","formOpen","setFormOpen","editingContact","setEditingContact","isSubmitting","setIsSubmitting","fetchContacts","useCallback","searchQuery","url","data","apiClient","err","message","useEffect","timer","handleContactClick","handleCreateContact","handleUpdateContact","handleDeleteContact","handleEdit","handleAddNew","jsxs","jsx","Skeleton","SkeletonList","ErrorState","Button","Card","CardContent","EmptyState","ScrollArea","email","getInitials","Badge","ep","idx","formData","body"],"mappings":"2iBAuBA,SAASA,EAAgBC,EAAiC,CAExD,OADsBA,EAAQ,UAAU,KAAMC,GAAMA,EAAE,OAAS,OAAO,GAChD,OAAS,IACjC,CAEO,SAASC,GAAkC,CAChD,KAAM,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAIxB,CAAE,KAAM,UAAW,EAEf,CAACC,EAAQC,CAAS,EAAIF,EAAAA,SAAS,EAAE,EACjC,CAACG,EAAiBC,CAAkB,EAAIJ,EAAAA,SAAyB,IAAI,EACrE,CAACK,EAAYC,CAAa,EAAIN,EAAAA,SAAS,EAAK,EAC5C,CAACO,EAAUC,CAAW,EAAIR,EAAAA,SAAS,EAAK,EACxC,CAACS,EAAgBC,CAAiB,EAAIV,EAAAA,SAAyB,IAAI,EACnE,CAACW,EAAcC,CAAe,EAAIZ,EAAAA,SAAS,EAAK,EAEhDa,EAAgBC,cAAY,MAAOC,GAAyB,CAChE,GAAI,CACF,MAAMC,EAAMD,EACR,wBAAwB,mBAAmBA,CAAW,CAAC,GACvD,gBACEE,EAAO,MAAMC,EAAU,IAAsBF,CAAG,EACtDjB,EAAS,CAAE,KAAM,SAAU,SAAUkB,EAAK,SAAU,MAAOA,EAAK,MAAO,CACzE,OAASE,EAAK,CACZ,MAAMC,EAAUD,aAAe,MAAQA,EAAI,QAAU,gBACrDpB,EAAS,CAAE,KAAM,QAAS,QAAAqB,CAAA,CAAS,CACrC,CACF,EAAG,CAAA,CAAE,EAELC,EAAAA,UAAU,IAAM,CACdR,EAAA,CACF,EAAG,CAACA,CAAa,CAAC,EAGlBQ,EAAAA,UAAU,IAAM,CACd,MAAMC,EAAQ,WAAW,IAAM,CAC7BT,EAAcZ,GAAU,MAAS,CACnC,EAAG,GAAG,EACN,MAAO,IAAM,aAAaqB,CAAK,CACjC,EAAG,CAACrB,EAAQY,CAAa,CAAC,EAE1B,MAAMU,EAAsB5B,GAAqB,CAC/CS,EAAmBT,CAAO,EAC1BW,EAAc,EAAI,CACpB,EAEMkB,EAAsB,MAAOP,GAAsB,CACvDL,EAAgB,EAAI,EACpB,GAAI,CACF,MAAMM,EAAU,KAAK,gBAAiBD,CAAI,EAC1CT,EAAY,EAAK,EACjBK,EAAcZ,GAAU,MAAS,CACnC,OAASkB,EAAK,CACZ,QAAQ,MAAM,4BAA6BA,CAAG,CAChD,QAAA,CACEP,EAAgB,EAAK,CACvB,CACF,EAEMa,EAAsB,MAAOR,GAAsB,CACvD,GAAKR,EACL,CAAAG,EAAgB,EAAI,EACpB,GAAI,CACF,MAAMM,EAAU,MAAM,iBAAiBT,EAAe,EAAE,GAAIQ,CAAI,EAChET,EAAY,EAAK,EACjBE,EAAkB,IAAI,EACtBJ,EAAc,EAAK,EACnBO,EAAcZ,GAAU,MAAS,CACnC,OAASkB,EAAK,CACZ,QAAQ,MAAM,4BAA6BA,CAAG,CAChD,QAAA,CACEP,EAAgB,EAAK,CACvB,EACF,EAEMc,EAAsB,MAAO/B,GAAqB,CACtD,GAAK,QAAQ,mBAAmBA,EAAQ,YAAY,IAAI,EACxD,GAAI,CACF,MAAMuB,EAAU,OAAO,iBAAiBvB,EAAQ,EAAE,EAAE,EACpDW,EAAc,EAAK,EACnBF,EAAmB,IAAI,EACvBS,EAAcZ,GAAU,MAAS,CACnC,OAASkB,EAAK,CACZ,QAAQ,MAAM,4BAA6BA,CAAG,CAChD,CACF,EAEMQ,EAAchC,GAAqB,CACvCe,EAAkBf,CAAO,EACzBW,EAAc,EAAK,EACnBE,EAAY,EAAI,CAClB,EAEMoB,EAAe,IAAM,CACzBlB,EAAkB,IAAI,EACtBF,EAAY,EAAI,CAClB,EAEA,OAAIV,EAAM,OAAS,UAEf+B,EAAAA,KAAC,MAAA,CAAI,cAAY,gBAAgB,UAAU,MACzC,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAS,MAAO,IAAK,OAAQ,GAAI,EAClCD,EAAAA,IAACC,EAAA,CAAS,MAAO,IAAK,OAAQ,EAAA,CAAI,CAAA,EACpC,QACCA,EAAA,CAAS,MAAM,OAAO,OAAQ,GAAI,UAAU,OAAO,EACpDD,EAAAA,IAACE,EAAA,CAAa,MAAO,EAAG,QAAQ,MAAA,CAAO,CAAA,EACzC,EAIAlC,EAAM,OAAS,QAEfgC,EAAAA,IAAC,MAAA,CAAI,cAAY,gBAAgB,UAAU,MACzC,SAAAA,EAAAA,IAACG,EAAA,CACC,KAAK,UACL,MAAM,0BACN,YAAanC,EAAM,QACnB,QAAS,IAAM,CACbC,EAAS,CAAE,KAAM,UAAW,EAC5Bc,EAAA,CACF,CAAA,CAAA,EAEJ,EAKFgB,EAAAA,KAAC,MAAA,CAAI,cAAY,gBAAgB,UAAU,2BAEzC,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,yCAAyC,SAAA,SAAM,EAC7DD,EAAAA,KAAC,IAAA,CAAE,UAAU,qCACV,SAAA,CAAA/B,EAAM,MAAM,WAASA,EAAM,QAAU,EAAI,IAAM,EAAA,CAAA,CAClD,CAAA,EACF,EACAgC,EAAAA,IAACI,EAAA,CAAO,QAASN,EAAc,SAAA,aAAA,CAAW,CAAA,EAC5C,EAGAE,EAAAA,IAAC,MAAA,CAAI,UAAU,OACb,SAAAA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,YAAY,qBACZ,MAAO7B,EACP,SAAWL,GAAMM,EAAUN,EAAE,OAAO,KAAK,EACzC,UAAU,gKAAA,CAAA,EAEd,EAGCE,EAAM,SAAS,SAAW,QACxBqC,EAAA,CACC,SAAAL,EAAAA,IAACM,EAAA,CAAY,UAAU,MACrB,SAAAN,EAAAA,IAACO,EAAA,CACC,QAAQ,UACR,MAAOpC,EAAS,oBAAsB,kBACtC,YACEA,EACI,+BACA,yCAEN,OACGA,EAEG,OADA,CAAE,MAAO,cAAe,QAAS2B,EACjC,CAAA,CAER,CACF,EACF,EAEAE,EAAAA,IAACK,GAAK,UAAU,SACd,SAAAL,EAAAA,IAACM,EAAA,CAAY,UAAU,MACrB,eAACE,EAAA,CAAW,UAAU,wBACpB,SAAAR,EAAAA,IAAC,MAAA,CAAI,UAAU,WACZ,SAAAhC,EAAM,SAAS,IAAKH,GAAY,CAC/B,MAAM4C,EAAQ7C,EAAgBC,CAAO,EACrC,OACEkC,EAAAA,KAAC,SAAA,CAEC,QAAS,IAAMN,EAAmB5B,CAAO,EACzC,UAAU,mFAEV,SAAA,CAAAmC,MAAC,OAAI,UAAU,gHACZ,SAAAU,EAAY7C,EAAQ,YAAY,EACnC,EACAkC,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,uCACV,SAAAnC,EAAQ,aACX,EACC4C,GACCT,EAAAA,IAAC,IAAA,CAAE,UAAU,yCAA0C,SAAAS,CAAA,CAAM,CAAA,EAEjE,EACAV,EAAAA,KAACY,EAAA,CAAM,QAAQ,YAAY,UAAU,WAClC,SAAA,CAAA9C,EAAQ,UAAU,OAAO,YACzBA,EAAQ,UAAU,SAAW,EAAI,IAAM,EAAA,CAAA,CAC1C,CAAA,CAAA,EAlBKA,EAAQ,EAAA,CAqBnB,CAAC,CAAA,CACH,EACF,CAAA,CACF,CAAA,CACF,EAIDQ,GACC0B,EAAAA,KAAC,MAAA,CACC,UAAW,sBAAsBxB,EAAa,GAAK,qBAAqB,GAExE,SAAA,CAAAyB,EAAAA,IAAC,MAAA,CACC,UAAW,mDACTzB,EAAa,cAAgB,WAC/B,GACA,QAAS,IAAMC,EAAc,EAAK,CAAA,CAAA,EAEpCwB,EAAAA,IAAC,MAAA,CACC,UAAW,wGACTzB,EAAa,gBAAkB,kBACjC,GAEA,SAAAwB,EAAAA,KAAC,MAAA,CAAI,UAAU,2BACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAC,MAAC,OAAI,UAAU,uGACZ,SAAAU,EAAYrC,EAAgB,YAAY,EAC3C,EACA0B,EAAAA,KAAC,MAAA,CAAI,UAAU,SACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,wBACX,SAAA3B,EAAgB,aACnB,EACCT,EAAgBS,CAAe,GAC9B2B,EAAAA,IAAC,KAAE,UAAU,gCACV,SAAApC,EAAgBS,CAAe,CAAA,CAClC,CAAA,CAAA,CAEJ,CAAA,EACF,EAEA0B,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAC,EAAAA,IAACI,EAAA,CACC,QAAQ,UACR,KAAK,KACL,QAAS,IAAMP,EAAWxB,CAAe,EAC1C,SAAA,MAAA,CAAA,EAGD2B,EAAAA,IAACI,EAAA,CACC,QAAQ,UACR,KAAK,KACL,UAAU,0CACV,QAAS,IAAMR,EAAoBvB,CAAe,EACnD,SAAA,QAAA,CAAA,CAED,EACF,EAECA,EAAgB,OACf0B,OAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,2BAA2B,SAAA,QAAK,EAC9CA,EAAAA,IAAC,IAAA,CAAE,UAAU,2DACV,WAAgB,KAAA,CACnB,CAAA,EACF,SAGD,MAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,KAAA,CAAG,UAAU,2BAA2B,SAAA,YAAS,EACjD3B,EAAgB,UAAU,OAAS,EAClC2B,EAAAA,IAAC,OAAI,UAAU,YACZ,SAAA3B,EAAgB,UAAU,IAAI,CAACuC,EAAIC,IAClCd,EAAAA,KAAC,MAAA,CAAc,UAAU,kCACvB,SAAA,CAAAC,MAACW,GAAM,QAAQ,UAAU,UAAU,UAChC,WAAG,KACN,EACAX,EAAAA,IAAC,OAAA,CAAK,UAAU,wBAAyB,WAAG,KAAA,CAAM,CAAA,CAAA,EAJ1Ca,CAKV,CACD,CAAA,CACH,QAEC,IAAA,CAAE,UAAU,gCAAgC,SAAA,cAAA,CAAY,CAAA,CAAA,CAE7D,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,EAKHpC,GACCsB,EAAAA,KAAC,MAAA,CAAI,UAAU,sDACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CACC,UAAU,+BACV,QAAS,IAAMtB,EAAY,EAAK,CAAA,CAAA,EAElCqB,EAAAA,KAAC,MAAA,CAAI,UAAU,uEACb,SAAA,CAAAC,MAAC,KAAA,CAAG,UAAU,6BACX,SAAArB,EAAiB,eAAiB,cACrC,EACAoB,EAAAA,KAAC,OAAA,CACC,SAAWjC,GAAM,CACfA,EAAE,eAAA,EACF,MAAMgD,EAAW,IAAI,SAAShD,EAAE,aAAa,EACvCiD,EAAoB,CACxB,YAAaD,EAAS,IAAI,aAAa,EACvC,MAAQA,EAAS,IAAI,OAAO,GAAgB,MAAA,EAE1CnC,EACFgB,EAAoBoB,CAAI,EAExBrB,EAAoBqB,CAAI,CAE5B,EAEA,SAAA,CAAAhB,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAA,EAAAA,KAAC,QAAA,CAAM,QAAQ,cAAc,UAAU,iCAAiC,SAAA,CAAA,QACjEC,EAAAA,IAAC,OAAA,CAAK,UAAU,mBAAmB,SAAA,GAAA,CAAC,CAAA,EAC3C,EACAA,EAAAA,IAAC,QAAA,CACC,GAAG,cACH,KAAK,cACL,KAAK,OACL,SAAQ,GACR,aAAcrB,GAAgB,cAAgB,GAC9C,UAAU,sGACV,YAAY,UAAA,CAAA,CACd,EACF,SACC,MAAA,CACC,SAAA,CAAAqB,MAAC,QAAA,CAAM,QAAQ,QAAQ,UAAU,iCAAiC,SAAA,QAElE,EACAA,EAAAA,IAAC,WAAA,CACC,GAAG,QACH,KAAK,QACL,KAAM,EACN,aAAcrB,GAAgB,OAAS,GACvC,UAAU,sGACV,YAAY,qBAAA,CAAA,CACd,CAAA,CACF,CAAA,EACF,EACAoB,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAC,EAAAA,IAACI,EAAA,CAAO,KAAK,SAAS,QAAQ,UAAU,QAAS,IAAM1B,EAAY,EAAK,EAAG,SAAA,QAAA,CAE3E,EACAsB,EAAAA,IAACI,GAAO,KAAK,SAAS,SAAUvB,EAC7B,SAAAF,EAAiB,eAAiB,aAAA,CACrC,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EAEJ,CAEJ"}